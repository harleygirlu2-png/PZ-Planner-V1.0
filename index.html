<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PZ Planner - Ultimate Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f2f5;
        }
        .sidebar {
            background-color: #2d3748;
        }
        .sidebar-item {
            color: #a0aec0;
            transition: all 0.2s ease-in-out;
        }
        .sidebar-item:hover, .sidebar-item.active {
            background-color: #4a5568;
            color: #ffffff;
        }
        .main-content {
            background-color: #ffffff;
        }
        .filter-section {
            background-color: #f7fafc;
            border: 1px solid #e2e8f0;
        }
        .btn-primary {
            background-color: #2c7a7b;
            color: white;
            transition: background-color 0.2s;
        }
        .btn-primary:hover {
            background-color: #285e61;
        }
        .btn-primary:disabled {
            background-color: #9aabb0;
            cursor: not-allowed;
        }
        .btn-secondary {
            background-color: #4a5568;
            color: white;
            transition: background-color 0.2s;
        }
        .btn-secondary:hover {
            background-color: #2d3748;
        }
        .btn-outline {
             background-color: transparent;
             border: 1px solid #cbd5e0;
             color: #4a5568;
             transition: all 0.2s;
        }
        .btn-outline:hover {
            background-color: #edf2f7;
            border-color: #a0aec0;
        }
        .table-header-sortable {
            cursor: pointer;
        }
        .table-header-sortable:hover {
            background-color: #edf2f7;
        }
    </style>
</head>
<body class="flex h-screen">

    <!-- Sidebar -->
    <aside class="sidebar w-64 flex-shrink-0 overflow-y-auto">
        <div class="p-6">
            <h1 class="text-2xl font-bold text-white">PZ Planner</h1>
            <p class="text-sm text-gray-400">Ultimate Edition</p>
        </div>
            <script src="https://cdn.tailwindcss.com"></script>
            <script src="animal_data.js"></script>
            <a href="#" id="habitat-planner-tab" class="sidebar-item active flex items-center py-3 px-6">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                <span>Habitat Planner</span>
            </a>
            <a href="#" id="exhibit-planner-tab" class="sidebar-item flex items-center py-3 px-6">
                 <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2 1M4 7l2-1M4 7v2.5M12 21.5v-2.5M12 18.5l-2 1m2-1l2 1m-2-1v-2.5m-8-5l2 1m-2-1l2-1m-2 1L4 9.5"></path></svg>
                <span>Exhibit Planner</span>
            </a>
            <a href="#" id="compatibility-tab" class="sidebar-item flex items-center py-3 px-6">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                <span>Compatibility</span>
            </a>
            <a href="#" id="database-tab" class="sidebar-item flex items-center py-3 px-6">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"></path></svg>
                <span>Database</span>
            </a>
            <a href="#" id="shopping-list-tab" class="sidebar-item flex items-center py-3 px-6">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                <span>Shopping List</span>
            </a>
            <a href="#" id="layout-helper-tab" class="sidebar-item flex items-center py-3 px-6">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
                <span>Layout Helper</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex overflow-hidden">
        <!-- Habitat Planner Content -->
        <div id="habitat-planner-content" class="flex flex-1">
            <!-- Left Panel: Builder -->
            <div class="w-1/3 overflow-y-auto p-8 border-r border-gray-200">
                <h2 class="text-xl font-bold mb-4">Build Your Habitat</h2>
                
                <select id="animal-select" class="w-full p-2 border border-gray-300 rounded-md mb-4">
                    <option value="">-- Choose an animal --</option>
                </select>

                <button id="add-animal-btn" class="w-full btn-secondary py-2 rounded-md mb-6">Add to Habitat</button>

                <div class="flex justify-between items-center mb-2">
                    <h3 class="text-lg font-semibold">Filters</h3>
                    <button id="clear-filters-btn" class="text-sm text-blue-600 hover:underline">Clear All</button>
                </div>
            
                <div class="filter-section p-4 rounded-md">
                    <h4 class="font-semibold text-gray-800 mb-2">Primary Filters</h4>
                    <input type="text" id="search-input" placeholder="Search by name..." class="w-full p-2 border border-gray-300 rounded-md mb-4">
                    
                    <!-- DLC Filter -->
                    <div class="relative mb-4">
                        <button id="dlc-filter-btn" class="w-full p-2 border border-gray-300 rounded-md text-left flex justify-between items-center bg-white">
                            <span>DLCs</span>
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div id="dlc-filter-options" class="hidden absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-48 overflow-y-auto p-2">
                            <!-- Checkboxes will be injected here -->
                        </div>
                    </div>

                    <!-- Continent Filter -->
                     <div class="relative mb-4">
                        <button id="continent-filter-btn" class="w-full p-2 border border-gray-300 rounded-md text-left flex justify-between items-center bg-white">
                            <span>Continents</span>
                             <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div id="continent-filter-options" class="hidden absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-48 overflow-y-auto p-2">
                            <!-- Checkboxes will be injected here -->
                        </div>
                    </div>

                    <!-- Biome Filter -->
                     <div class="relative mb-4">
                        <button id="biome-filter-btn" class="w-full p-2 border border-gray-300 rounded-md text-left flex justify-between items-center bg-white">
                            <span>Biomes</span>
                             <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <div id="biome-filter-options" class="hidden absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 max-h-48 overflow-y-auto p-2">
                            <!-- Checkboxes will be injected here -->
                        </div>
                    </div>

                    <details class="mt-4">
                        <summary class="cursor-pointer font-semibold text-gray-700 hover:text-gray-900">Advanced Filters</summary>
                        <div class="mt-2 pt-2 border-t">
                             <label class="flex items-center">
                                <input type="checkbox" id="walkthrough-filter" class="form-checkbox h-4 w-4 text-teal-600 rounded">
                                <span class="ml-2 text-gray-700 text-sm">Walkthrough Only</span>
                            </label>
                        </div>
                    </details>
                </div>

                <div class="mt-8">
                    <h3 class="text-lg font-semibold mb-2">Current Habitat</h3>
                    <div id="current-habitat" class="p-4 border border-gray-200 rounded-md min-h-[100px] text-gray-500">
                        No animals added yet.
                    </div>
                    <div class="grid grid-cols-2 gap-4 mt-4">
                        <button class="w-full btn-primary py-2 rounded-md">Save</button>
                        <button class="w-full btn-secondary py-2 rounded-md">Load</button>
                        <button class="w-full btn-outline py-2 rounded-md col-span-2">Share Plan</button>
                        <button id="clear-habitat-btn" class="w-full btn-outline py-2 rounded-md col-span-2">Clear Habitat</button>
                    </div>
                </div>
            </div>

            <!-- Right Panel: Viewer -->
            <div id="habitat-viewer" class="w-2/3 flex items-center justify-center p-8">
                <div class="text-center text-gray-400">
                    <svg class="w-24 h-24 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.536a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 3c3.732 0 7.046 2.102 8.716 5.253M12 3C8.268 3 4.954 5.102 3.284 8.253"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    <h2 class="text-2xl font-semibold">Your Habitat Awaits</h2>
                    <p>Add animals to see their combined needs for a perfect enclosure.</p>
                </div>
            </div>
            <div id="habitat-details" class="w-2/3 p-8 hidden overflow-y-auto">
                <!-- Habitat details will be dynamically injected here -->
            </div>
        </div>

        <!-- Other Content Panels (Initially Hidden) -->
        <div id="exhibit-planner-content" class="w-full p-8 hidden flex">
             <!-- Left Panel: Builder -->
            <div class="w-1/3 overflow-y-auto p-8 border-r border-gray-200">
                <h2 class="text-xl font-bold mb-4">Build Your Exhibit</h2>
                <select id="exhibit-animal-select" class="w-full p-2 border border-gray-300 rounded-md mb-4">
                    <option value="">-- Choose an animal --</option>
                </select>
                 <button id="clear-exhibit-btn" class="w-full btn-outline py-2 rounded-md">Clear Exhibit</button>
            </div>
            <!-- Right Panel: Viewer -->
            <div id="exhibit-viewer" class="w-2/3 flex items-center justify-center p-8">
                 <div class="text-center text-gray-400">
                    <svg class="w-24 h-24 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M14 10l-2 1m0 0l-2-1m2 1v2.5M20 7l-2 1m2-1l-2-1m2 1v2.5M14 4l-2-1-2 1M4 7l2 1M4 7l2-1M4 7v2.5M12 21.5v-2.5M12 18.5l-2 1m2-1l2 1m-2-1v-2.5m-8-5l2 1m-2-1l2-1m-2 1L4 9.5"></path></svg>
                    <h2 class="text-2xl font-semibold">Your Exhibit Awaits</h2>
                    <p>Select an animal to see its requirements.</p>
                </div>
            </div>
             <div id="exhibit-details" class="w-2/3 p-8 hidden overflow-y-auto">
                <!-- Exhibit details will be dynamically injected here -->
            </div>
        </div>
        <div id="compatibility-content" class="w-full p-8 hidden overflow-y-auto">
            <h2 class="text-2xl font-bold mb-4">Interspecies Enrichment Checker</h2>
            <p class="mb-4 text-gray-600">Select an animal to see which other species it can be housed with to receive an enrichment bonus.</p>
            <select id="compatibility-animal-select" class="w-full md:w-1/2 p-2 border border-gray-300 rounded-md mb-6">
                <option value="">-- Choose an animal --</option>
            </select>
            <div id="compatibility-results">
                <div class="text-center text-gray-400 mt-8">
                     <svg class="w-16 h-16 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    <h3 class="text-xl font-semibold">Select an animal to see its friends!</h3>
                </div>
            </div>
        </div>
        <div id="database-content" class="w-full p-8 hidden overflow-y-auto">
            <h2 class="text-2xl font-bold mb-4">Animal Database</h2>
            <input type="text" id="database-search" placeholder="Search for any animal..." class="w-full p-2 border border-gray-300 rounded-md mb-4">
            <div class="overflow-x-auto">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr>
                            <th class="py-2 px-3 bg-gray-100 font-bold uppercase text-sm text-gray-600 border-b table-header-sortable" data-sort="name">Animal</th>
                            <th class="py-2 px-3 bg-gray-100 font-bold uppercase text-sm text-gray-600 border-b table-header-sortable" data-sort="type">Type</th>
                            <th class="py-2 px-3 bg-gray-100 font-bold uppercase text-sm text-gray-600 border-b table-header-sortable" data-sort="dlc">DLC</th>
                            <th class="py-2 px-3 bg-gray-100 font-bold uppercase text-sm text-gray-600 border-b">Walkthrough</th>
                            <th class="py-2 px-3 bg-gray-100 font-bold uppercase text-sm text-gray-600 border-b table-header-sortable" data-sort="continent">Continent</th>
                            <th class="py-2 px-3 bg-gray-100 font-bold uppercase text-sm text-gray-600 border-b table-header-sortable" data-sort="biome">Biome</th>
                            <th class="py-2 px-3 bg-gray-100 font-bold uppercase text-sm text-gray-600 border-b table-header-sortable" data-sort="space">Space (m²)</th>
                        </tr>
                    </thead>
                    <tbody id="database-table-body">
                        <!-- Animal data will be injected here -->
                    </tbody>
                </table>
            </div>
        </div>
        <div id="shopping-list-content" class="w-full p-8 hidden">
            <h2 class="text-2xl font-bold">Shopping List</h2>
            <p class="mt-4 text-gray-600">This section is under construction. You'll be able to generate a shopping list for your zoo build here.</p>
        </div>
        <div id="layout-helper-content" class="w-full p-8 hidden">
            <h2 class="text-2xl font-bold">Layout Helper</h2>
            <p class="mt-4 text-gray-600">This section is under construction. You'll be able to sketch out zoo layouts here in the future.</p>
        </div>
    </main>

    <script>
        // --- DATA SETS (COMPLETE & VERIFIED) ---
        const animalData = [
            { name: "Aardvark", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 220, water: 0, climbing: 0, tempMin: 18, tempMax: 40, groupSize: [1, 2], isWalkthrough: false },
            { name: "Addax", dlc: "Arid", continent: "Africa", biome: "Desert", space: 650, water: 0, climbing: 0, tempMin: 10, tempMax: 45, groupSize: [2, 10], isWalkthrough: false },
            { name: "African Buffalo", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 800, water: 120, climbing: 0, tempMin: 15, tempMax: 40, groupSize: [3, 15], isWalkthrough: false },
            { name: "African Bush Elephant", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 1500, water: 300, climbing: 0, tempMin: 18, tempMax: 40, groupSize: [1, 15], isWalkthrough: false },
            { name: "African Crested Porcupine", dlc: "Arid", continent: "Africa", biome: "Desert", space: 200, water: 0, climbing: 0, tempMin: 15, tempMax: 38, groupSize: [1, 2], isWalkthrough: false },
            { name: "African Penguin", dlc: "Africa", continent: "Africa", biome: "Temperate", space: 100, water: 200, climbing: 0, tempMin: 10, tempMax: 28, groupSize: [5, 30], isWalkthrough: false },
            { name: "African Spurred Tortoise", dlc: "Zookeepers", continent: "Africa", biome: "Desert", space: 250, water: 20, climbing: 0, tempMin: 20, tempMax: 45, groupSize: [1, 6], isWalkthrough: false },
            { name: "African Wild Dog", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 700, water: 0, climbing: 0, tempMin: 10, tempMax: 38, groupSize: [4, 12], isWalkthrough: false },
            { name: "Aldabra Giant Tortoise", dlc: "Base Game", continent: "Africa", biome: "Tropical", space: 300, water: 40, climbing: 0, tempMin: 24, tempMax: 42, groupSize: [1, 8], isWalkthrough: true },
            { name: "Alpine Goat", dlc: "Barnyard", continent: "Europe", biome: "Temperate", space: 300, water: 0, climbing: 80, tempMin: -10, tempMax: 28, groupSize: [3, 12], isWalkthrough: false },
            { name: "Alpine Ibex", dlc: "Europe", continent: "Europe", biome: "Taiga", space: 500, water: 0, climbing: 150, tempMin: -20, tempMax: 20, groupSize: [3, 10], isWalkthrough: false },
            { name: "Alpaca", dlc: "Barnyard", continent: "South America", biome: "Temperate", space: 350, water: 0, climbing: 0, tempMin: -5, tempMax: 28, groupSize: [3, 12], isWalkthrough: false },
            { name: "American Alligator", dlc: "North America", continent: "North America", biome: "Aquatic", space: 150, water: 250, climbing: 0, tempMin: 15, tempMax: 35, groupSize: [1, 5], isWalkthrough: false },
            { name: "American Beaver", dlc: "North America", continent: "North America", biome: "Aquatic", space: 100, water: 300, climbing: 0, tempMin: -10, tempMax: 25, groupSize: [2, 8], isWalkthrough: false },
            { name: "American Bison", dlc: "North America", continent: "North America", biome: "Grassland", space: 850, water: 0, climbing: 0, tempMin: -15, tempMax: 30, groupSize: [3, 12], isWalkthrough: false },
            { name: "American Standard Donkey", dlc: "Barnyard", continent: "Africa", biome: "Grassland", space: 500, water: 0, climbing: 0, tempMin: 5, tempMax: 35, groupSize: [2, 8], isWalkthrough: false },
            { name: "Amur Leopard", dlc: "Conservation", continent: "Asia", biome: "Taiga", space: 700, water: 0, climbing: 150, tempMin: -25, tempMax: 25, groupSize: [1, 1], isWalkthrough: false },
            { name: "Arctic Fox", dlc: "Arctic", continent: "North America", biome: "Tundra", space: 300, water: 0, climbing: 0, tempMin: -40, tempMax: 15, groupSize: [1, 2], isWalkthrough: false },
            { name: "Arctic Wolf", dlc: "North America", continent: "North America", biome: "Tundra", space: 800, water: 0, climbing: 0, tempMin: -40, tempMax: 15, groupSize: [4, 12], isWalkthrough: false },
            { name: "Asian Small-Clawed Otter", dlc: "Wetlands", continent: "Asia", biome: "Aquatic", space: 100, water: 100, climbing: 0, tempMin: 10, tempMax: 30, groupSize: [2, 10], isWalkthrough: false },
            { name: "Asian Water Monitor", dlc: "Tropical", continent: "Asia", biome: "Aquatic", space: 150, water: 200, climbing: 50, tempMin: 24, tempMax: 38, groupSize: [1, 1], isWalkthrough: false },
            { name: "Bactrian Camel", dlc: "Base Game", continent: "Asia", biome: "Temperate", space: 600, water: 0, climbing: 0, tempMin: -20, tempMax: 45, groupSize: [2, 8], isWalkthrough: false },
            { name: "Baird's Tapir", dlc: "Base Game", continent: "Central America", biome: "Tropical", space: 450, water: 75, climbing: 0, tempMin: 18, tempMax: 35, groupSize: [1, 2], isWalkthrough: false },
            { name: "Bengal Tiger", dlc: "Base Game", continent: "Asia", biome: "Tropical", space: 750, water: 100, climbing: 0, tempMin: 5, tempMax: 35, groupSize: [1, 1], isWalkthrough: false },
            { name: "Binturong", dlc: "Southeast Asia", continent: "Asia", biome: "Tropical", space: 250, water: 0, climbing: 150, tempMin: 22, tempMax: 35, groupSize: [1, 2], isWalkthrough: false },
            { name: "Black Rhinoceros", dlc: "Arid", continent: "Africa", biome: "Grassland", space: 900, water: 150, climbing: 0, tempMin: 15, tempMax: 40, groupSize: [1, 2], isWalkthrough: false },
            { name: "Black Wildebeest", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 650, water: 0, climbing: 0, tempMin: 12, tempMax: 40, groupSize: [5, 30], isWalkthrough: false },
            { name: "Black-and-White Ruffed Lemur", dlc: "Anniversary", continent: "Africa", biome: "Tropical", space: 150, water: 0, climbing: 120, tempMin: 20, tempMax: 35, groupSize: [2, 5], isWalkthrough: true },
            { name: "Black-tailed Prairie Dog", dlc: "North America", continent: "North America", biome: "Grassland", space: 150, water: 0, climbing: 0, tempMin: -5, tempMax: 35, groupSize: [5, 20], isWalkthrough: false },
            { name: "Blue Wildebeest", dlc: "Grasslands", continent: "Africa", biome: "Grassland", space: 650, water: 0, climbing: 0, tempMin: 12, tempMax: 40, groupSize: [5, 30], isWalkthrough: false },
            { name: "Bongo", dlc: "Base Game", continent: "Africa", biome: "Tropical", space: 550, water: 0, climbing: 0, tempMin: 18, tempMax: 32, groupSize: [2, 10], isWalkthrough: false },
            { name: "Bonobo", dlc: "Base Game", continent: "Africa", biome: "Tropical", space: 450, water: 20, climbing: 200, tempMin: 22, tempMax: 35, groupSize: [5, 15], isWalkthrough: false },
            { name: "Bornean Orangutan", dlc: "Base Game", continent: "Asia", biome: "Tropical", space: 400, water: 20, climbing: 250, tempMin: 24, tempMax: 36, groupSize: [1, 2], isWalkthrough: false },
            { name: "California Sea Lion", dlc: "North America", continent: "North America", biome: "Aquatic", space: 100, water: 350, climbing: 0, tempMin: 5, tempMax: 25, groupSize: [2, 10], isWalkthrough: false },
            { name: "Capybara", dlc: "Wetlands", continent: "South America", biome: "Aquatic", space: 200, water: 150, climbing: 0, tempMin: 18, tempMax: 35, groupSize: [4, 15], isWalkthrough: false },
            { name: "Caracal", dlc: "Grasslands", continent: "Africa", biome: "Grassland", space: 450, water: 0, climbing: 80, tempMin: 15, tempMax: 40, groupSize: [1, 2], isWalkthrough: false },
            { name: "Cheetah", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 800, water: 0, climbing: 0, tempMin: 15, tempMax: 40, groupSize: [1, 5], isWalkthrough: false },
            { name: "Chinese Pangolin", dlc: "Anniversary", continent: "Asia", biome: "Tropical", space: 150, water: 10, climbing: 80, tempMin: 22, tempMax: 35, groupSize: [1, 2], isWalkthrough: false },
            { name: "Clouded Leopard", dlc: "Southeast Asia", continent: "Asia", biome: "Tropical", space: 500, water: 20, climbing: 200, tempMin: 20, tempMax: 32, groupSize: [1, 1], isWalkthrough: false },
            { name: "Collared Peccary", dlc: "Base Game", continent: "South America", biome: "Desert", space: 300, water: 0, climbing: 0, tempMin: 10, tempMax: 35, groupSize: [2, 8], isWalkthrough: false },
            { name: "Colombian White-faced Capuchin", dlc: "South America", continent: "South America", biome: "Tropical", space: 250, water: 20, climbing: 150, tempMin: 20, tempMax: 35, groupSize: [5, 15], isWalkthrough: true },
            { name: "Common Ostrich", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 900, water: 0, climbing: 0, tempMin: 10, tempMax: 42, groupSize: [2, 7], isWalkthrough: false },
            { name: "Common Warthog", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 350, water: 30, climbing: 0, tempMin: 15, tempMax: 40, groupSize: [2, 8], isWalkthrough: false },
            { name: "Common Wombat", dlc: "Twilight", continent: "Oceania", biome: "Temperate", space: 250, water: 0, climbing: 0, tempMin: 5, tempMax: 28, groupSize: [1, 2], isWalkthrough: false },
            { name: "Coquerel's Sifaka", dlc: "Zookeepers", continent: "Africa", biome: "Tropical", space: 200, water: 0, climbing: 150, tempMin: 18, tempMax: 40, groupSize: [2, 8], isWalkthrough: false },
            { name: "Cougar", dlc: "North America", continent: "North America", biome: "Taiga", space: 700, water: 0, climbing: 100, tempMin: -15, tempMax: 30, groupSize: [1, 2], isWalkthrough: false },
            { name: "Coyote", dlc: "Base Game", continent: "North America", biome: "Grassland", space: 400, water: 0, climbing: 0, tempMin: -10, tempMax: 40, groupSize: [1, 2], isWalkthrough: false },
            { name: "Cuvier's Dwarf Caiman", dlc: "Aquatic", continent: "South America", biome: "Aquatic", space: 120, water: 200, climbing: 0, tempMin: 20, tempMax: 35, groupSize: [1, 4], isWalkthrough: false },
            { name: "Dall Sheep", dlc: "Arctic", continent: "North America", biome: "Tundra", space: 500, water: 0, climbing: 100, tempMin: -30, tempMax: 18, groupSize: [3, 10], isWalkthrough: false },
            { name: "Dama Gazelle", dlc: "Arid", continent: "Africa", biome: "Desert", space: 600, water: 0, climbing: 0, tempMin: 18, tempMax: 48, groupSize: [4, 15], isWalkthrough: false },
            { name: "Dhole", dlc: "Southeast Asia", continent: "Asia", biome: "Tropical", space: 600, water: 50, climbing: 0, tempMin: 10, tempMax: 30, groupSize: [4, 12], isWalkthrough: false },
            { name: "Dingo", dlc: "Australia", continent: "Oceania", biome: "Desert", space: 500, water: 0, climbing: 0, tempMin: 10, tempMax: 40, groupSize: [2, 8], isWalkthrough: false },
            { name: "Dromedary Camel", dlc: "Arid", continent: "Africa", biome: "Desert", space: 600, water: 0, climbing: 0, tempMin: -10, tempMax: 50, groupSize: [2, 8], isWalkthrough: false },
            { name: "Emu", dlc: "Grasslands", continent: "Oceania", biome: "Grassland", space: 700, water: 50, climbing: 0, tempMin: 5, tempMax: 35, groupSize: [2, 6], isWalkthrough: false },
            { name: "Eurasian Lynx", dlc: "Europe", continent: "Europe", biome: "Taiga", space: 600, water: 0, climbing: 80, tempMin: -25, tempMax: 22, groupSize: [1, 2], isWalkthrough: false },
            { name: "European Badger", dlc: "Europe", continent: "Europe", biome: "Temperate", space: 200, water: 0, climbing: 0, tempMin: -5, tempMax: 25, groupSize: [2, 8], isWalkthrough: false },
            { name: "European Fallow Deer", dlc: "Europe", continent: "Europe", biome: "Temperate", space: 600, water: 0, climbing: 0, tempMin: -10, tempMax: 28, groupSize: [5, 20], isWalkthrough: true },
            { name: "Fennec Fox", dlc: "Africa", continent: "Africa", biome: "Desert", space: 250, water: 0, climbing: 0, tempMin: 20, tempMax: 45, groupSize: [1, 4], isWalkthrough: false },
            { name: "Formosan Black Bear", dlc: "Base Game", continent: "Asia", biome: "Temperate", space: 700, water: 80, climbing: 50, tempMin: 5, tempMax: 30, groupSize: [1, 2], isWalkthrough: false },
            { name: "Fossa", dlc: "Tropical", continent: "Africa", biome: "Tropical", space: 400, water: 20, climbing: 180, tempMin: 18, tempMax: 32, groupSize: [1, 2], isWalkthrough: false },
            { name: "Galapagos Giant Tortoise", dlc: "Base Game", continent: "South America", biome: "Tropical", space: 300, water: 40, climbing: 0, tempMin: 22, tempMax: 38, groupSize: [1, 8], isWalkthrough: true },
            { name: "Gemsbok", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 650, water: 0, climbing: 0, tempMin: 15, tempMax: 45, groupSize: [3, 10], isWalkthrough: false },
            { name: "Gharial", dlc: "Base Game", continent: "Asia", biome: "Aquatic", space: 150, water: 350, climbing: 0, tempMin: 20, tempMax: 35, groupSize: [1, 5], isWalkthrough: false },
            { name: "Giant Anteater", dlc: "South America", continent: "South America", biome: "Grassland", space: 450, water: 0, climbing: 0, tempMin: 18, tempMax: 32, groupSize: [1, 2], isWalkthrough: false },
            { name: "Giant Otter", dlc: "Aquatic", continent: "South America", biome: "Aquatic", space: 150, water: 250, climbing: 0, tempMin: 18, tempMax: 32, groupSize: [3, 10], isWalkthrough: false },
            { name: "Giant Panda", dlc: "Base Game", continent: "Asia", biome: "Temperate", space: 700, water: 20, climbing: 100, tempMin: 0, tempMax: 25, groupSize: [1, 2], isWalkthrough: false },
            { name: "Gray Seal", dlc: "Aquatic", continent: "Europe", biome: "Aquatic", space: 100, water: 400, climbing: 0, tempMin: -5, tempMax: 20, groupSize: [2, 10], isWalkthrough: false },
            { name: "Greater Flamingo", dlc: "Base Game", continent: "Africa", biome: "Aquatic", space: 300, water: 150, climbing: 0, tempMin: 15, tempMax: 40, groupSize: [20, 100], isWalkthrough: false },
            { name: "Grizzly Bear", dlc: "Base Game", continent: "North America", biome: "Taiga", space: 800, water: 100, climbing: 0, tempMin: -10, tempMax: 22, groupSize: [1, 2], isWalkthrough: false },
            { name: "Hamadryas Baboon", dlc: "Zookeepers", continent: "Africa", biome: "Desert", space: 600, water: 20, climbing: 100, tempMin: 10, tempMax: 42, groupSize: [5, 25], isWalkthrough: false },
            { name: "Highland Cattle", dlc: "Barnyard", continent: "Europe", biome: "Temperate", space: 600, water: 0, climbing: 0, tempMin: -15, tempMax: 22, groupSize: [3, 10], isWalkthrough: false },
            { name: "Hill Radnor Sheep", dlc: "Barnyard", continent: "Europe", biome: "Temperate", space: 400, water: 0, climbing: 0, tempMin: -5, tempMax: 25, groupSize: [4, 15], isWalkthrough: false },
            { name: "Himalayan Brown Bear", dlc: "Base Game", continent: "Asia", biome: "Taiga", space: 800, water: 100, climbing: 0, tempMin: -15, tempMax: 20, groupSize: [1, 2], isWalkthrough: false },
            { name: "Hippopotamus", dlc: "Base Game", continent: "Africa", biome: "Aquatic", space: 350, water: 700, climbing: 0, tempMin: 15, tempMax: 38, groupSize: [2, 12], isWalkthrough: false },
            { name: "Indian Elephant", dlc: "Base Game", continent: "Asia", biome: "Tropical", space: 1200, water: 250, climbing: 0, tempMin: 20, tempMax: 35, groupSize: [5, 15], isWalkthrough: false },
            { name: "Indian Peafowl", dlc: "Base Game", continent: "Asia", biome: "Temperate", space: 250, water: 0, climbing: 0, tempMin: 10, tempMax: 35, groupSize: [2, 7], isWalkthrough: true },
            { name: "Indian Rhinoceros", dlc: "Base Game", continent: "Asia", biome: "Grassland", space: 800, water: 150, climbing: 0, tempMin: 15, tempMax: 35, groupSize: [1, 2], isWalkthrough: false },
            { name: "Jaguar", dlc: "South America", continent: "South America", biome: "Tropical", space: 700, water: 100, climbing: 50, tempMin: 18, tempMax: 35, groupSize: [1, 1], isWalkthrough: false },
            { name: "Japanese Macaque", dlc: "Base Game", continent: "Asia", biome: "Temperate", space: 350, water: 50, climbing: 150, tempMin: -15, tempMax: 25, groupSize: [5, 20], isWalkthrough: false },
            { name: "King Penguin", dlc: "Aquatic", continent: "Antarctica", biome: "Tundra", space: 200, water: 300, climbing: 0, tempMin: -25, tempMax: 10, groupSize: [5, 30], isWalkthrough: false },
            { name: "Kirk's Dik-Dik", dlc: "Zookeepers", continent: "Africa", biome: "Grassland", space: 200, water: 0, climbing: 0, tempMin: 15, tempMax: 40, groupSize: [1, 2], isWalkthrough: false },
            { name: "Koala", dlc: "Australia", continent: "Oceania", biome: "Temperate", space: 150, water: 0, climbing: 100, tempMin: 10, tempMax: 30, groupSize: [1, 2], isWalkthrough: false },
            { name: "Komodo Dragon", dlc: "Deluxe", continent: "Asia", biome: "Tropical", space: 500, water: 50, climbing: 0, tempMin: 25, tempMax: 40, groupSize: [1, 1], isWalkthrough: false },
            { name: "Lar Gibbon", dlc: "Tropical", continent: "Asia", biome: "Tropical", space: 300, water: 0, climbing: 200, tempMin: 22, tempMax: 35, groupSize: [2, 4], isWalkthrough: false },
            { name: "Linnaeus's Two-Toed Sloth", dlc: "Wetlands", continent: "South America", biome: "Tropical", space: 200, water: 0, climbing: 110, tempMin: 24, tempMax: 38, groupSize: [1, 2], isWalkthrough: true },
            { name: "Little Penguin", dlc: "Oceania", continent: "Oceania", biome: "Temperate", space: 80, water: 150, climbing: 0, tempMin: 10, tempMax: 25, groupSize: [5, 20], isWalkthrough: false },
            { name: "Llama", dlc: "South America", continent: "South America", biome: "Temperate", space: 400, water: 0, climbing: 0, tempMin: -5, tempMax: 30, groupSize: [3, 10], isWalkthrough: false },
            { name: "Malayan Tapir", dlc: "Southeast Asia", continent: "Asia", biome: "Tropical", space: 450, water: 75, climbing: 0, tempMin: 20, tempMax: 32, groupSize: [1, 2], isWalkthrough: false },
            { name: "Mandrill", dlc: "Base Game", continent: "Africa", biome: "Tropical", space: 500, water: 0, climbing: 150, tempMin: 20, tempMax: 32, groupSize: [5, 15], isWalkthrough: false },
            { name: "Maned Wolf", dlc: "South America", continent: "South America", biome: "Grassland", space: 550, water: 0, climbing: 0, tempMin: 15, tempMax: 35, groupSize: [1, 2], isWalkthrough: false },
            { name: "Markhor", dlc: "Zookeepers", continent: "Asia", biome: "Taiga", space: 550, water: 0, climbing: 150, tempMin: -20, tempMax: 25, groupSize: [3, 12], isWalkthrough: false },
            { name: "Meerkat", dlc: "Africa", continent: "Africa", biome: "Desert", space: 200, water: 0, climbing: 0, tempMin: 18, tempMax: 42, groupSize: [5, 15], isWalkthrough: false },
            { name: "Moose", dlc: "North America", continent: "North America", biome: "Taiga", space: 900, water: 150, climbing: 0, tempMin: -25, tempMax: 20, groupSize: [1, 3], isWalkthrough: false },
            { name: "Mouflon", dlc: "Europe", continent: "Europe", biome: "Temperate", space: 450, water: 0, climbing: 100, tempMin: -5, tempMax: 30, groupSize: [3, 12], isWalkthrough: false },
            { name: "Mute Swan", dlc: "Eurasia", continent: "Europe", biome: "Aquatic", space: 200, water: 100, climbing: 0, tempMin: -10, tempMax: 28, groupSize: [1, 2], isWalkthrough: false },
            { name: "Nile Lechwe", dlc: "Wetlands", continent: "Africa", biome: "Aquatic", space: 500, water: 100, climbing: 0, tempMin: 18, tempMax: 38, groupSize: [5, 20], isWalkthrough: false },
            { name: "Nile Monitor", dlc: "Base Game", continent: "Africa", biome: "Aquatic", space: 150, water: 200, climbing: 50, tempMin: 22, tempMax: 40, groupSize: [1, 1], isWalkthrough: false },
            { name: "Nine-banded Armadillo", dlc: "Grasslands", continent: "North America", biome: "Grassland", space: 150, water: 10, climbing: 0, tempMin: 10, tempMax: 32, groupSize: [1, 2], isWalkthrough: false },
            { name: "North Island Brown Kiwi", dlc: "Oceania", continent: "Oceania", biome: "Temperate", space: 150, water: 10, climbing: 0, tempMin: 5, tempMax: 25, groupSize: [1, 2], isWalkthrough: false },
            { name: "North Sulawesi Babirusa", dlc: "Southeast Asia", continent: "Asia", biome: "Tropical", space: 300, water: 30, climbing: 0, tempMin: 22, tempMax: 35, groupSize: [2, 5], isWalkthrough: false },
            { name: "Nyala", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 500, water: 0, climbing: 0, tempMin: 15, tempMax: 35, groupSize: [2, 8], isWalkthrough: false },
            { name: "Okapi", dlc: "Base Game", continent: "Africa", biome: "Tropical", space: 600, water: 0, climbing: 0, tempMin: 18, tempMax: 30, groupSize: [1, 2], isWalkthrough: false },
            { name: "Pallas's Cat", dlc: "Zookeepers", continent: "Asia", biome: "Taiga", space: 250, water: 0, climbing: 50, tempMin: -30, tempMax: 20, groupSize: [1, 2], isWalkthrough: false },
            { name: "Plains Zebra", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 650, water: 0, climbing: 0, tempMin: 12, tempMax: 40, groupSize: [3, 10], isWalkthrough: false },
            { name: "Platypus", dlc: "Wetlands", continent: "Oceania", biome: "Aquatic", space: 80, water: 120, climbing: 0, tempMin: 5, tempMax: 25, groupSize: [1, 2], isWalkthrough: false },
            { name: "Polar Bear", dlc: "Arctic", continent: "North America", biome: "Tundra", space: 1200, water: 400, climbing: 0, tempMin: -45, tempMax: 10, groupSize: [1, 2], isWalkthrough: false },
            { name: "Proboscis Monkey", dlc: "Southeast Asia", continent: "Asia", biome: "Tropical", space: 350, water: 50, climbing: 180, tempMin: 24, tempMax: 35, groupSize: [4, 12], isWalkthrough: false },
            { name: "Pronghorn Antelope", dlc: "Base Game", continent: "North America", biome: "Grassland", space: 650, water: 0, climbing: 0, tempMin: -5, tempMax: 35, groupSize: [3, 10], isWalkthrough: false },
            { name: "Przewalski's Horse", dlc: "Conservation", continent: "Asia", biome: "Grassland", space: 750, water: 0, climbing: 0, tempMin: -15, tempMax: 30, groupSize: [3, 10], isWalkthrough: false },
            { name: "Pygmy Hippo", dlc: "Base Game", continent: "Africa", biome: "Aquatic", space: 250, water: 400, climbing: 0, tempMin: 20, tempMax: 35, groupSize: [1, 3], isWalkthrough: false },
            { name: "Quokka", dlc: "Oceania", continent: "Oceania", biome: "Temperate", space: 200, water: 10, climbing: 0, tempMin: 12, tempMax: 30, groupSize: [3, 10], isWalkthrough: false },
            { name: "Raccoon", dlc: "Twilight", continent: "North America", biome: "Temperate", space: 200, water: 20, climbing: 100, tempMin: -10, tempMax: 30, groupSize: [1, 5], isWalkthrough: false },
            { name: "Red Deer", dlc: "Europe", continent: "Europe", biome: "Temperate", space: 700, water: 0, climbing: 0, tempMin: -15, tempMax: 28, groupSize: [2, 12], isWalkthrough: false },
            { name: "Red Fox", dlc: "Twilight", continent: "Europe", biome: "Temperate", space: 300, water: 0, climbing: 0, tempMin: -15, tempMax: 28, groupSize: [1, 2], isWalkthrough: false },
            { name: "Red Kangaroo", dlc: "Australia", continent: "Oceania", biome: "Desert", space: 800, water: 0, climbing: 0, tempMin: 10, tempMax: 45, groupSize: [3, 10], isWalkthrough: false },
            { name: "Red Panda", dlc: "Base Game", continent: "Asia", biome: "Temperate", space: 200, water: 0, climbing: 100, tempMin: 5, tempMax: 25, groupSize: [1, 2], isWalkthrough: false },
            { name: "Red River Hog", dlc: "Tropical", continent: "Africa", biome: "Tropical", space: 350, water: 40, climbing: 0, tempMin: 20, tempMax: 35, groupSize: [3, 10], isWalkthrough: false },
            { name: "Red Ruffed Lemur", dlc: "Base Game", continent: "Africa", biome: "Tropical", space: 150, water: 0, climbing: 120, tempMin: 20, tempMax: 35, groupSize: [2, 5], isWalkthrough: true },
            { name: "Red-crowned Crane", dlc: "Wetlands", continent: "Asia", biome: "Aquatic", space: 300, water: 80, climbing: 0, tempMin: -10, tempMax: 28, groupSize: [1, 2], isWalkthrough: false },
            { name: "Red-necked Wallaby", dlc: "Grasslands", continent: "Oceania", biome: "Temperate", space: 500, water: 0, climbing: 0, tempMin: 5, tempMax: 30, groupSize: [2, 8], isWalkthrough: false },
            { name: "Reindeer", dlc: "Arctic", continent: "Europe", biome: "Tundra", space: 700, water: 0, climbing: 0, tempMin: -35, tempMax: 15, groupSize: [5, 25], isWalkthrough: false },
            { name: "Reticulated Giraffe", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 1200, water: 0, climbing: 0, tempMin: 15, tempMax: 40, groupSize: [2, 8], isWalkthrough: false },
            { name: "Ring-Tailed Lemur", dlc: "Base Game", continent: "Africa", biome: "Temperate", space: 300, water: 0, climbing: 150, tempMin: 15, tempMax: 38, groupSize: [5, 15], isWalkthrough: true },
            { name: "Sable Antelope", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 700, water: 0, climbing: 0, tempMin: 15, tempMax: 38, groupSize: [5, 15], isWalkthrough: false },
            { name: "Saiga Antelope", dlc: "Eurasia", continent: "Asia", biome: "Grassland", space: 650, water: 0, climbing: 0, tempMin: -20, tempMax: 30, groupSize: [5, 20], isWalkthrough: false },
            { name: "Saltwater Crocodile", dlc: "Base Game", continent: "Oceania", biome: "Aquatic", space: 200, water: 500, climbing: 0, tempMin: 22, tempMax: 38, groupSize: [1, 1], isWalkthrough: false },
            { name: "Sand Cat", dlc: "Arid", continent: "Africa", biome: "Desert", space: 250, water: 0, climbing: 50, tempMin: 15, tempMax: 45, groupSize: [1, 2], isWalkthrough: false },
            { name: "Scimitar-horned Oryx", dlc: "Conservation", continent: "Africa", biome: "Desert", space: 700, water: 0, climbing: 0, tempMin: 18, tempMax: 48, groupSize: [4, 12], isWalkthrough: false },
            { name: "Siamang", dlc: "Conservation", continent: "Asia", biome: "Tropical", space: 350, water: 0, climbing: 200, tempMin: 22, tempMax: 35, groupSize: [2, 4], isWalkthrough: false },
            { name: "Siberian Tiger", dlc: "Base Game", continent: "Asia", biome: "Taiga", space: 800, water: 100, climbing: 0, tempMin: -20, tempMax: 25, groupSize: [1, 1], isWalkthrough: false },
            { name: "Sloth Bear", dlc: "Eurasia", continent: "Asia", biome: "Tropical", space: 500, water: 50, climbing: 80, tempMin: 15, tempMax: 35, groupSize: [1, 2], isWalkthrough: false },
            { name: "Snow Leopard", dlc: "Base Game", continent: "Asia", biome: "Taiga", space: 700, water: 0, climbing: 150, tempMin: -25, tempMax: 20, groupSize: [1, 1], isWalkthrough: false },
            { name: "Somali Wild Ass", dlc: "Arid", continent: "Africa", biome: "Desert", space: 700, water: 0, climbing: 0, tempMin: 18, tempMax: 45, groupSize: [2, 8], isWalkthrough: false },
            { name: "Southern Cassowary", dlc: "Australia", continent: "Oceania", biome: "Tropical", space: 600, water: 50, climbing: 0, tempMin: 18, tempMax: 35, groupSize: [1, 2], isWalkthrough: false },
            { name: "Southern White Rhino", dlc: "Africa", continent: "Africa", biome: "Grassland", space: 900, water: 150, climbing: 0, tempMin: 15, tempMax: 40, groupSize: [2, 5], isWalkthrough: false },
            { name: "Spectacled Bear", dlc: "Zookeepers", continent: "South America", biome: "Tropical", space: 650, water: 50, climbing: 120, tempMin: 10, tempMax: 30, groupSize: [1, 2], isWalkthrough: false },
            { name: "Spectacled Caiman", dlc: "Wetlands", continent: "South America", biome: "Aquatic", space: 120, water: 200, climbing: 0, tempMin: 20, tempMax: 35, groupSize: [1, 4], isWalkthrough: false },
            { name: "Spotted Hyena", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 600, water: 50, climbing: 0, tempMin: 10, tempMax: 40, groupSize: [2, 8], isWalkthrough: false },
            { name: "Springbok", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 550, water: 0, climbing: 0, tempMin: 12, tempMax: 42, groupSize: [5, 20], isWalkthrough: false },
            { name: "Striped Hyena", dlc: "Twilight", continent: "Africa", biome: "Desert", space: 550, water: 0, climbing: 0, tempMin: 10, tempMax: 40, groupSize: [1, 2], isWalkthrough: false },
            { name: "Striped Skunk", dlc: "Twilight", continent: "North America", biome: "Temperate", space: 180, water: 0, climbing: 0, tempMin: -5, tempMax: 30, groupSize: [1, 4], isWalkthrough: false },
            { name: "Sun Bear", dlc: "Southeast Asia", continent: "Asia", biome: "Tropical", space: 400, water: 30, climbing: 150, tempMin: 22, tempMax: 35, groupSize: [1, 2], isWalkthrough: false },
            { name: "Sussex Chicken", dlc: "Barnyard", continent: "Europe", biome: "Temperate", space: 100, water: 0, climbing: 0, tempMin: 0, tempMax: 28, groupSize: [4, 20], isWalkthrough: false },
            { name: "Takin", dlc: "Eurasia", continent: "Asia", biome: "Taiga", space: 600, water: 0, climbing: 100, tempMin: -15, tempMax: 22, groupSize: [3, 10], isWalkthrough: false },
            { name: "Tamworth Pig", dlc: "Barnyard", continent: "Europe", biome: "Temperate", space: 300, water: 30, climbing: 0, tempMin: -5, tempMax: 28, groupSize: [3, 10], isWalkthrough: false },
            { name: "Tasmanian Devil", dlc: "Oceania", continent: "Oceania", biome: "Temperate", space: 300, water: 20, climbing: 0, tempMin: 0, tempMax: 25, groupSize: [1, 2], isWalkthrough: false },
            { name: "Thomson's Gazelle", dlc: "Deluxe", continent: "Africa", biome: "Grassland", space: 600, water: 0, climbing: 0, tempMin: 15, tempMax: 40, groupSize: [5, 25], isWalkthrough: false },
            { name: "Timber Wolf", dlc: "Base Game", continent: "North America", biome: "Taiga", space: 800, water: 0, climbing: 0, tempMin: -20, tempMax: 25, groupSize: [4, 12], isWalkthrough: false },
            { name: "West African Lion", dlc: "Base Game", continent: "Africa", biome: "Grassland", space: 850, water: 50, climbing: 0, tempMin: 12, tempMax: 40, groupSize: [2, 10], isWalkthrough: false },
            { name: "Western Chimpanzee", dlc: "Base Game", continent: "Africa", biome: "Tropical", space: 500, water: 20, climbing: 250, tempMin: 20, tempMax: 32, groupSize: [5, 15], isWalkthrough: false },
            { name: "Western Lowland Gorilla", dlc: "Base Game", continent: "Africa", biome: "Tropical", space: 600, water: 0, climbing: 150, tempMin: 20, tempMax: 30, groupSize: [2, 8], isWalkthrough: false },
            { name: "Wild Boar", dlc: "Eurasia", continent: "Europe", biome: "Temperate", space: 400, water: 40, climbing: 0, tempMin: -10, tempMax: 30, groupSize: [3, 12], isWalkthrough: false },
            { name: "Wild Water Buffalo", dlc: "Wetlands", continent: "Asia", biome: "Aquatic", space: 700, water: 150, climbing: 0, tempMin: 10, tempMax: 35, groupSize: [3, 12], isWalkthrough: false },
            { name: "Wisent", dlc: "Eurasia", continent: "Europe", biome: "Temperate", space: 800, water: 0, climbing: 0, tempMin: -15, tempMax: 25, groupSize: [4, 15], isWalkthrough: false },
            { name: "Wolverine", dlc: "Eurasia", continent: "Europe", biome: "Tundra", space: 450, water: 0, climbing: 50, tempMin: -35, tempMax: 15, groupSize: [1, 1], isWalkthrough: false },
        ];
        
        const exhibitAnimalData = [
        // animalData, exhibitAnimalData, compatibilityMap are now loaded from animal_data.js
            { name: "Gaboon Viper", dlc: "Base Game", tempMin: 22, tempMax: 32, humidityMin: 70, humidityMax: 90, groupSize: [1, 1], isWalkthrough: false },
            { name: "Gila Monster", dlc: "Base Game", tempMin: 22, tempMax: 38, humidityMin: 0, humidityMax: 20, groupSize: [1, 2], isWalkthrough: false },
            { name: "Giant Burrowing Cockroach", dlc: "Base Game", tempMin: 22, tempMax: 28, humidityMin: 60, humidityMax: 80, groupSize: [1, 20], isWalkthrough: false },
            { name: "Giant Desert Hairy Scorpion", dlc: "Base Game", tempMin: 24, tempMax: 38, humidityMin: 0, humidityMax: 20, groupSize: [1, 1], isWalkthrough: false },
            { name: "Giant Forest Scorpion", dlc: "Anniversary", tempMin: 24, tempMax: 30, humidityMin: 70, humidityMax: 80, groupSize: [1, 1], isWalkthrough: false },
            { name: "Giant Leaf Insect", dlc: "Southeast Asia", tempMin: 22, tempMax: 28, humidityMin: 70, humidityMax: 90, groupSize: [1, 5], isWalkthrough: false },
            { name: "Giant Malaysian Leaf Insect", dlc: "Anniversary", tempMin: 22, tempMax: 28, humidityMin: 70, humidityMax: 90, groupSize: [1, 5], isWalkthrough: false },
            { name: "Giant Tiger Land Snail", dlc: "Base Game", tempMin: 20, tempMax: 28, humidityMin: 70, humidityMax: 90, groupSize: [1, 5], isWalkthrough: false },
            { name: "Goliath Birdeater", dlc: "Base Game", tempMin: 24, tempMax: 36, humidityMin: 70, humidityMax: 90, groupSize: [1, 1], isWalkthrough: false },
            { name: "Goliath Frog", dlc: "Base Game", tempMin: 22, tempMax: 28, humidityMin: 80, humidityMax: 100, groupSize: [1, 1], isWalkthrough: false },
            { name: "Golden Poison Frog", dlc: "South America", tempMin: 22, tempMax: 28, humidityMin: 80, humidityMax: 100, groupSize: [1, 4], isWalkthrough: false },
            { name: "Green Iguana", dlc: "Base Game", tempMin: 26, tempMax: 42, humidityMin: 70, humidityMax: 90, groupSize: [1, 2], isWalkthrough: false },
            { name: "Lehmann's Poison Frog", dlc: "Base Game", tempMin: 22, tempMax: 28, humidityMin: 80, humidityMax: 100, groupSize: [1, 4], isWalkthrough: false },
            { name: "Lesser Antillean Iguana", dlc: "Base Game", tempMin: 26, tempMax: 42, humidityMin: 70, humidityMax: 90, groupSize: [1, 2], isWalkthrough: false },
            { name: "Mexican Redknee Tarantula", dlc: "Anniversary", tempMin: 22, tempMax: 28, humidityMin: 60, humidityMax: 70, groupSize: [1, 1], isWalkthrough: false },
            { name: "Puff Adder", dlc: "Base Game", tempMin: 24, tempMax: 40, humidityMin: 20, humidityMax: 40, groupSize: [1, 1], isWalkthrough: false },
            { name: "Red-Eyed Tree Frog", dlc: "South America", tempMin: 24, tempMax: 32, humidityMin: 80, humidityMax: 100, groupSize: [1, 8], isWalkthrough: false },
            { name: "Sacred Scarab Beetle", dlc: "Base Game", tempMin: 20, tempMax: 40, humidityMin: 10, humidityMax: 30, groupSize: [1, 200], isWalkthrough: false },
            { name: "Titan Beetle", dlc: "Base Game", tempMin: 24, tempMax: 32, humidityMin: 70, humidityMax: 90, groupSize: [1, 4], isWalkthrough: false },
            { name: "Western Diamondback Rattlesnake", dlc: "Base Game", tempMin: 24, tempMax: 40, humidityMin: 20, humidityMax: 40, groupSize: [1, 1], isWalkthrough: false },
            { name: "Yellow Anaconda", dlc: "Base Game", tempMin: 24, tempMax: 36, humidityMin: 60, humidityMax: 80, groupSize: [1, 1], isWalkthrough: false },
        ];

        const compatibilityMap = {
            "Aardvark": ["African Buffalo", "African Bush Elephant", "African Spurred Tortoise", "Aldabra Giant Tortoise", "Black Wildebeest", "Black-and-White Ruffed Lemur", "Blue Wildebeest", "Bongo", "Bonobo", "Common Ostrich", "Common Warthog", "Coquerel's Sifaka", "Greater Flamingo", "Hamadryas Baboon", "Hippopotamus", "Kirk's Dik-Dik", "Mandrill", "Meerkat", "Nile Lechwe", "Nyala", "Okapi", "Plains Zebra", "Pygmy Hippo", "Red River Hog", "Red Ruffed Lemur", "Reticulated Giraffe", "Ring-Tailed Lemur", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle", "Western Lowland Gorilla"],
            "Addax": ["African Crested Porcupine", "African Spurred Tortoise", "Dama Gazelle", "Dromedary Camel", "Fennec Fox", "Gemsbok", "Hamadryas Baboon", "Meerkat", "Sand Cat", "Scimitar-horned Oryx", "Somali Wild Ass"],
            "African Buffalo": ["Aardvark", "African Bush Elephant", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "African Bush Elephant": ["Aardvark", "African Buffalo", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "African Crested Porcupine": ["Addax", "Dama Gazelle", "Dromedary Camel", "Fennec Fox", "Meerkat", "Sand Cat", "Scimitar-horned Oryx"],
            "African Spurred Tortoise": ["Aardvark", "Addax", "Dama Gazelle", "Dromedary Camel", "Fennec Fox", "Meerkat", "Sand Cat", "Scimitar-horned Oryx"],
            "Aldabra Giant Tortoise": ["Aardvark", "Black-and-White Ruffed Lemur", "Coquerel's Sifaka", "Galapagos Giant Tortoise", "Red Ruffed Lemur", "Ring-Tailed Lemur"],
            "Alpaca": ["American Standard Donkey", "Capybara", "Giant Anteater", "Greater Rhea", "Hill Radnor Sheep", "Llama", "Sussex Chicken", "Tamworth Pig"],
            "Alpine Goat": ["Alpine Ibex", "European Fallow Deer", "Highland Cattle", "Hill Radnor Sheep", "Mouflon", "Red Deer", "Sussex Chicken", "Tamworth Pig", "Wild Boar"],
            "Alpine Ibex": ["Alpine Goat", "Dall Sheep", "European Badger", "European Fallow Deer", "Markhor", "Mouflon", "Red Deer", "Reindeer", "Takin", "Wild Boar"],
            "American Bison": ["Black-tailed Prairie Dog", "Coyote", "Pronghorn Antelope"],
            "American Standard Donkey": ["Alpaca", "Gemsbok", "Highland Cattle", "Hill Radnor Sheep", "Llama", "Nyala", "Plains Zebra", "Sable Antelope", "Somali Wild Ass", "Southern White Rhino", "Springbok", "Sussex Chicken", "Tamworth Pig", "Thomson's Gazelle"],
            "Bactrian Camel": ["Przewalski's Horse", "Saiga Antelope"],
            "Baird's Tapir": ["Capybara", "Collared Peccary", "Colombian White-faced Capuchin", "Giant Anteater", "Linnaeus's Two-Toed Sloth"],
            "Black Wildebeest": ["Aardvark", "African Buffalo", "African Bush Elephant", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "Black-and-White Ruffed Lemur": ["Aardvark", "Aldabra Giant Tortoise", "Red Ruffed Lemur", "Ring-Tailed Lemur"],
            "Black-tailed Prairie Dog": ["American Bison", "Pronghorn Antelope"],
            "Blue Wildebeest": ["Aardvark", "African Buffalo", "African Bush Elephant", "Black Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "Bongo": ["Aardvark", "Bonobo", "Mandrill", "Okapi", "Pygmy Hippo", "Red River Hog", "Western Chimpanzee", "Western Lowland Gorilla"],
            "Bonobo": ["Aardvark", "Bongo", "Okapi", "Pygmy Hippo", "Western Chimpanzee", "Western Lowland Gorilla"],
            "Bornean Orangutan": ["Lar Gibbon", "Malayan Tapir", "Siamang", "Wild Water Buffalo"],
            "Capybara": ["Alpaca", "Baird's Tapir", "Collared Peccary", "Giant Anteater", "Greater Rhea", "Llama"],
            "Chinese Pangolin": ["Binturong", "Red Panda", "Wild Water Buffalo"],
            "Clouded Leopard": ["Binturong", "Malayan Tapir"],
            "Collared Peccary": ["Baird's Tapir", "Capybara", "Cuvier's Dwarf Caiman", "Giant Anteater", "Spectacled Caiman"],
            "Colombian White-faced Capuchin": ["Baird's Tapir", "Giant Anteater", "Linnaeus's Two-Toed Sloth"],
            "Common Ostrich": ["Aardvark", "African Buffalo", "African Bush Elephant", "Black Wildebeest", "Blue Wildebeest", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "Common Warthog": ["Aardvark", "African Buffalo", "African Bush Elephant", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "Coquerel's Sifaka": ["Aardvark", "Aldabra Giant Tortoise"],
            "Coyote": ["American Bison"],
            "Cuvier's Dwarf Caiman": ["Collared Peccary", "Giant Otter", "Spectacled Caiman"],
            "Dall Sheep": ["Alpine Ibex", "Markhor", "Reindeer", "Takin"],
            "Dama Gazelle": ["Addax", "African Crested Porcupine", "African Spurred Tortoise", "Dromedary Camel", "Fennec Fox", "Meerkat", "Sand Cat", "Scimitar-horned Oryx"],
            "Dromedary Camel": ["Addax", "African Crested Porcupine", "African Spurred Tortoise", "Dama Gazelle", "Fennec Fox", "Meerkat", "Sand Cat", "Scimitar-horned Oryx"],
            "Emu": ["Red Kangaroo", "Red-necked Wallaby", "Southern Cassowary"],
            "European Badger": ["Alpine Ibex", "European Fallow Deer", "Mouflon", "Red Deer", "Wild Boar"],
            "European Fallow Deer": ["Alpine Goat", "Alpine Ibex", "European Badger", "Highland Cattle", "Hill Radnor Sheep", "Mouflon", "Red Deer", "Sussex Chicken", "Tamworth Pig", "Wild Boar"],
            "Fennec Fox": ["Addax", "African Crested Porcupine", "African Spurred Tortoise", "Dama Gazelle", "Dromedary Camel", "Meerkat", "Sand Cat", "Scimitar-horned Oryx"],
            "Galapagos Giant Tortoise": ["Aldabra Giant Tortoise"],
            "Gemsbok": ["Addax", "African Buffalo", "African Bush Elephant", "American Standard Donkey", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "Gharial": ["Greater Flamingo", "Indian Elephant", "Indian Peafowl", "Indian Rhinoceros", "Wild Boar", "Wild Water Buffalo"],
            "Giant Anteater": ["Alpaca", "Baird's Tapir", "Capybara", "Collared Peccary", "Colombian White-faced Capuchin", "Greater Rhea", "Linnaeus's Two-Toed Sloth", "Llama"],
            "Giant Otter": ["Cuvier's Dwarf Caiman", "Spectacled Caiman"],
            "Giant Panda": ["Red-crowned Crane", "Wild Boar"],
            "Greater Flamingo": ["Aardvark", "Gharial", "Indian Elephant", "Indian Peafowl", "Indian Rhinoceros", "Wild Boar", "Wild Water Buffalo"],
            "Greater Rhea": ["Alpaca", "Capybara", "Giant Anteater", "Llama"],
            "Hamadryas Baboon": ["Aardvark", "Addax"],
            "Highland Cattle": ["Alpine Goat", "American Standard Donkey", "European Fallow Deer", "Hill Radnor Sheep", "Mouflon", "Red Deer", "Sussex Chicken", "Tamworth Pig", "Wild Boar"],
            "Hill Radnor Sheep": ["Alpaca", "Alpine Goat", "American Standard Donkey", "European Fallow Deer", "Highland Cattle", "Llama", "Mouflon", "Red Deer", "Sussex Chicken", "Tamworth Pig", "Wild Boar"],
            "Hippopotamus": ["Aardvark"],
            "Indian Elephant": ["Gharial", "Greater Flamingo", "Indian Peafowl", "Indian Rhinoceros", "Malayan Tapir", "Wild Boar", "Wild Water Buffalo"],
            "Indian Peafowl": ["Gharial", "Greater Flamingo", "Indian Elephant", "Indian Rhinoceros", "Malayan Tapir", "Wild Water Buffalo"],
            "Indian Rhinoceros": ["Gharial", "Greater Flamingo", "Indian Elephant", "Indian Peafowl", "Malayan Tapir", "Wild Water Buffalo"],
            "Japanese Macaque": ["Red-crowned Crane", "Wild Boar"],
            "Kirk's Dik-Dik": ["Aardvark"],
            "Lar Gibbon": ["Bornean Orangutan", "Malayan Tapir", "Siamang", "Wild Water Buffalo"],
            "Linnaeus's Two-Toed Sloth": ["Baird's Tapir", "Colombian White-faced Capuchin", "Giant Anteater"],
            "Llama": ["Alpaca", "American Standard Donkey", "Capybara", "Giant Anteater", "Greater Rhea", "Hill Radnor Sheep", "Sussex Chicken", "Tamworth Pig"],
            "Malayan Tapir": ["Bornean Orangutan", "Clouded Leopard", "Indian Elephant", "Indian Peafowl", "Indian Rhinoceros", "Lar Gibbon", "Proboscis Monkey", "Siamang", "Wild Boar"],
            "Mandrill": ["Aardvark", "Bongo", "Okapi", "Pygmy Hippo", "Red River Hog", "Western Lowland Gorilla"],
            "Markhor": ["Alpine Ibex", "Dall Sheep", "Takin", "Wild Boar"],
            "Meerkat": ["Aardvark", "Addax", "African Crested Porcupine", "African Spurred Tortoise", "Dama Gazelle", "Dromedary Camel", "Fennec Fox", "Sand Cat", "Scimitar-horned Oryx"],
            "Mouflon": ["Alpine Goat", "Alpine Ibex", "European Badger", "European Fallow Deer", "Highland Cattle", "Hill Radnor Sheep", "Red Deer", "Wild Boar"],
            "Nile Lechwe": ["Aardvark"],
            "North Sulawesi Babirusa": ["Wild Boar", "Wild Water Buffalo"],
            "Nyala": ["Aardvark", "African Buffalo", "African Bush Elephant", "American Standard Donkey", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "Okapi": ["Aardvark", "Bongo", "Bonobo", "Mandrill", "Pygmy Hippo", "Red River Hog", "Western Chimpanzee", "Western Lowland Gorilla"],
            "Plains Zebra": ["Aardvark", "African Buffalo", "African Bush Elephant", "American Standard Donkey", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "Pronghorn Antelope": ["American Bison", "Black-tailed Prairie Dog"],
            "Przewalski's Horse": ["Bactrian Camel", "Saiga Antelope"],
            "Pygmy Hippo": ["Aardvark", "Bongo", "Bonobo", "Mandrill", "Okapi", "Red River Hog", "Western Chimpanzee", "Western Lowland Gorilla"],
            "Red Deer": ["Alpine Goat", "Alpine Ibex", "European Badger", "European Fallow Deer", "Highland Cattle", "Hill Radnor Sheep", "Mouflon", "Wild Boar"],
            "Red Kangaroo": ["Emu", "Red-necked Wallaby", "Southern Cassowary"],
            "Red Panda": ["Chinese Pangolin"],
            "Red River Hog": ["Aardvark", "Bongo", "Mandrill", "Okapi", "Pygmy Hippo", "Western Lowland Gorilla"],
            "Red Ruffed Lemur": ["Aardvark", "Aldabra Giant Tortoise", "Black-and-White Ruffed Lemur", "Ring-Tailed Lemur"],
            "Red-crowned Crane": ["Giant Panda", "Japanese Macaque", "Wild Boar"],
            "Red-necked Wallaby": ["Emu", "Red Kangaroo", "Southern Cassowary"],
            "Reindeer": ["Alpine Ibex", "Dall Sheep", "Takin"],
            "Reticulated Giraffe": ["Aardvark", "African Buffalo", "African Bush Elephant", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Sable Antelope", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "Ring-Tailed Lemur": ["Aardvark", "Aldabra Giant Tortoise", "Black-and-White Ruffed Lemur", "Red Ruffed Lemur"],
            "Sable Antelope": ["Aardvark", "African Buffalo", "African Bush Elephant", "American Standard Donkey", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Southern White Rhino", "Springbok", "Thomson's Gazelle"],
            "Saiga Antelope": ["Bactrian Camel", "Przewalski's Horse"],
            "Sand Cat": ["Addax", "African Crested Porcupine", "African Spurred Tortoise", "Dama Gazelle", "Dromedary Camel", "Fennec Fox", "Meerkat", "Scimitar-horned Oryx"],
            "Scimitar-horned Oryx": ["Addax", "African Crested Porcupine", "African Spurred Tortoise", "Dama Gazelle", "Dromedary Camel", "Fennec Fox", "Meerkat", "Sand Cat"],
            "Siamang": ["Bornean Orangutan", "Lar Gibbon", "Malayan Tapir"],
            "Somali Wild Ass": ["American Standard Donkey"],
            "Southern Cassowary": ["Emu", "Red Kangaroo", "Red-necked Wallaby"],
            "Southern White Rhino": ["Aardvark", "African Buffalo", "African Bush Elephant", "American Standard Donkey", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Springbok", "Thomson's Gazelle"],
            "Spectacled Caiman": ["Collared Peccary", "Cuvier's Dwarf Caiman", "Giant Otter"],
            "Springbok": ["Aardvark", "African Buffalo", "African Bush Elephant", "American Standard Donkey", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Thomson's Gazelle"],
            "Sussex Chicken": ["Alpaca", "Alpine Goat", "American Standard Donkey", "European Fallow Deer", "Highland Cattle", "Hill Radnor Sheep", "Llama", "Mouflon", "Red Deer", "Tamworth Pig", "Wild Boar"],
            "Takin": ["Alpine Ibex", "Dall Sheep", "Markhor", "Reindeer", "Wild Boar"],
            "Tamworth Pig": ["Alpaca", "Alpine Goat", "American Standard Donkey", "European Fallow Deer", "Highland Cattle", "Hill Radnor Sheep", "Llama", "Mouflon", "Red Deer", "Sussex Chicken", "Wild Boar"],
            "Thomson's Gazelle": ["Aardvark", "African Buffalo", "African Bush Elephant", "American Standard Donkey", "Black Wildebeest", "Blue Wildebeest", "Common Ostrich", "Common Warthog", "Gemsbok", "Nyala", "Plains Zebra", "Reticulated Giraffe", "Sable Antelope", "Southern White Rhino", "Springbok"],
            "Western Chimpanzee": ["Bongo", "Bonobo", "Okapi", "Pygmy Hippo", "Western Lowland Gorilla"],
            "Western Lowland Gorilla": ["Aardvark", "Bongo", "Bonobo", "Mandrill", "Okapi", "Pygmy Hippo", "Red River Hog", "Western Chimpanzee"],
            "Wild Boar": ["Alpine Goat", "Alpine Ibex", "European Badger", "European Fallow Deer", "Gharial", "Giant Panda", "Greater Flamingo", "Hamadryas Baboon", "Highland Cattle", "Hill Radnor Sheep", "Indian Elephant", "Indian Peafowl", "Indian Rhinoceros", "Japanese Macaque", "Malayan Tapir", "Markhor", "Mouflon", "North Sulawesi Babirusa", "Red Deer", "Red-crowned Crane", "Sussex Chicken", "Takin", "Tamworth Pig", "Wild Water Buffalo", "Wisent"],
            "Wild Water Buffalo": ["Bornean Orangutan", "Chinese Pangolin", "Gharial", "Greater Flamingo", "Indian Elephant", "Indian Peafowl", "Lar Gibbon", "North Sulawesi Babirusa", "Wild Boar"],
            "Wisent": ["Wild Boar"]
        };


        // --- DOM ELEMENTS ---
        const animalSelect = document.getElementById('animal-select');
        const searchInput = document.getElementById('search-input');
        const addAnimalBtn = document.getElementById('add-animal-btn');
        const clearFiltersBtn = document.getElementById('clear-filters-btn');
        const clearHabitatBtn = document.getElementById('clear-habitat-btn');
        const currentHabitatDiv = document.getElementById('current-habitat');
        const habitatViewer = document.getElementById('habitat-viewer');
        const habitatDetails = document.getElementById('habitat-details');
        
        // Filter Elements
        const dlcFilterBtn = document.getElementById('dlc-filter-btn');
        const dlcFilterOptions = document.getElementById('dlc-filter-options');
        const continentFilterBtn = document.getElementById('continent-filter-btn');
        const continentFilterOptions = document.getElementById('continent-filter-options');
        const biomeFilterBtn = document.getElementById('biome-filter-btn');
        const biomeFilterOptions = document.getElementById('biome-filter-options');
        const walkthroughFilter = document.getElementById('walkthrough-filter');

        
        // Database Elements
        const databaseSearch = document.getElementById('database-search');
        const databaseTableBody = document.getElementById('database-table-body');
        const databaseHeaders = document.querySelectorAll('.table-header-sortable');

        // Compatibility Elements
        const compatibilitySelect = document.getElementById('compatibility-animal-select');
        const compatibilityResults = document.getElementById('compatibility-results');
        
        // Exhibit Elements
        const exhibitAnimalSelect = document.getElementById('exhibit-animal-select');
        const clearExhibitBtn = document.getElementById('clear-exhibit-btn');
        const exhibitViewerEl = document.getElementById('exhibit-viewer');
        const exhibitDetailsEl = document.getElementById('exhibit-details');


        let currentHabitatAnimals = [];
        let currentSort = { column: 'name', order: 'asc' };

        function getUniqueValues(key) {
            const values = new Set(animalData.map(animal => animal[key]));
            return [...values].sort();
        }

        function populateCheckboxFilter(container, options) {
            container.innerHTML = '';
            options.forEach(option => {
                const label = document.createElement('label');
                label.className = 'flex items-center space-x-2 p-1 hover:bg-gray-100 rounded';
                label.innerHTML = `
                    <input type="checkbox" value="${option}" class="form-checkbox h-4 w-4 text-teal-600 rounded">
                    <span class="text-sm">${option}</span>
                `;
                container.appendChild(label);
            });
        }

        function setupFilterDropdown(button, optionsContainer) {
            button.addEventListener('click', () => {
                optionsContainer.classList.toggle('hidden');
            });
        }

        function populateFilters() {
            populateCheckboxFilter(dlcFilterOptions, getUniqueValues('dlc'));
            populateCheckboxFilter(continentFilterOptions, getUniqueValues('continent'));
            populateCheckboxFilter(biomeFilterOptions, getUniqueValues('biome'));
        }

        function filterAndPopulateAnimals() {
            const selectedDlcs = Array.from(dlcFilterOptions.querySelectorAll('input:checked')).map(cb => cb.value);
            const selectedContinents = Array.from(continentFilterOptions.querySelectorAll('input:checked')).map(cb => cb.value);
            const selectedBiomes = Array.from(biomeFilterOptions.querySelectorAll('input:checked')).map(cb => cb.value);
            const walkthroughOnly = walkthroughFilter.checked;
            const searchTerm = searchInput.value.toLowerCase();

            const filteredAnimals = animalData.filter(animal => {
                const dlcMatch = selectedDlcs.length === 0 || selectedDlcs.includes(animal.dlc);
                const continentMatch = selectedContinents.length === 0 || selectedContinents.includes(animal.continent);
                const biomeMatch = selectedBiomes.length === 0 || selectedBiomes.includes(animal.biome);
                const walkthroughMatch = !walkthroughOnly || animal.isWalkthrough;
                const searchMatch = animal.name.toLowerCase().includes(searchTerm);
                return dlcMatch && continentMatch && biomeMatch && walkthroughMatch && searchMatch;
            });

            animalSelect.innerHTML = '<option value="">-- Choose an animal --</option>';
            filteredAnimals.sort((a, b) => a.name.localeCompare(b.name)).forEach(animal => {
                const option = document.createElement('option');
                option.value = animal.name;
                option.textContent = animal.name;
                animalSelect.appendChild(option);
            });
        }
        
        function addAnimalToHabitat() {
            const selectedAnimalName = animalSelect.value;
            if (!selectedAnimalName) return;

            if (currentHabitatAnimals.some(animal => animal.name === selectedAnimalName)) {
                console.warn('This animal is already in the habitat.');
                return;
            }

            const animal = animalData.find(a => a.name === selectedAnimalName);
            currentHabitatAnimals.push(animal);
            updateHabitatDisplay();
        }

        function getFullCompatibility(animalName) {
            const directs = compatibilityMap[animalName] || [];
            const indirects = [];
            for (const key in compatibilityMap) {
                if (compatibilityMap[key].includes(animalName)) {
                    if (!indirects.includes(key)) {
                       indirects.push(key);
                    }
                }
            }
            return [...new Set([...directs, ...indirects])];
        }

        function updateHabitatDisplay() {
            if (currentHabitatAnimals.length === 0) {
                currentHabitatDiv.textContent = 'No animals added yet.';
                habitatViewer.classList.remove('hidden');
                habitatDetails.classList.add('hidden');
                return;
            }
            
            habitatViewer.classList.add('hidden');
            habitatDetails.classList.remove('hidden');

            let totalSpace = 0;
            let totalWater = 0;
            let maxClimbing = 0;
            let minTemp = -100;
            let maxTemp = 100;
            
            currentHabitatAnimals.forEach((animal, index) => {
                totalSpace += animal.space;
                totalWater += animal.water;
                if (animal.climbing > maxClimbing) maxClimbing = animal.climbing;
                if (animal.tempMin > minTemp) minTemp = animal.tempMin;
                if (animal.tempMax < maxTemp) maxTemp = animal.tempMax;
            });

            let suggestedAnimals = [];
            if (currentHabitatAnimals.length > 0) {
                suggestedAnimals = getFullCompatibility(currentHabitatAnimals[0].name);
                for (let i = 1; i < currentHabitatAnimals.length; i++) {
                    const nextAnimalCompat = getFullCompatibility(currentHabitatAnimals[i].name);
                    suggestedAnimals = suggestedAnimals.filter(animal => nextAnimalCompat.includes(animal));
                }
            }
            const currentAnimalNames = currentHabitatAnimals.map(a => a.name);
            const filteredSuggestions = suggestedAnimals.filter(name => !currentAnimalNames.includes(name)).sort();

            let compatibilityHtml = '';
            if (filteredSuggestions.length > 0) {
                const suggestionList = filteredSuggestions.map(name => `<span class="inline-block bg-green-100 text-green-800 rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2">${name}</span>`).join('');
                compatibilityHtml = `
                    <div class="bg-gray-50 p-4 rounded-lg col-span-1 md:col-span-2">
                        <h4 class="font-semibold text-lg mb-2">Suggested Compatible Species</h4>
                        <div class="flex flex-wrap">${suggestionList}</div>
                    </div>
                `;
            } else if (currentHabitatAnimals.length > 0) {
                 compatibilityHtml = `
                    <div class="bg-gray-50 p-4 rounded-lg col-span-1 md:col-span-2">
                        <h4 class="font-semibold text-lg mb-2">Suggested Compatible Species</h4>
                        <p class="text-gray-600">No other species are compatible with the current selection.</p>
                    </div>
                `;
            }

            const walkthroughIcon = `<svg class="w-4 h-4 inline-block ml-1 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>`;
            let animalListHtml = currentHabitatAnimals.map(a => `<span class="inline-flex items-center bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">${a.name} ${a.isWalkthrough ? walkthroughIcon : ''}</span>`).join('');
            currentHabitatDiv.innerHTML = animalListHtml;

            habitatDetails.innerHTML = `
                <h2 class="text-2xl font-bold mb-4">Habitat Requirements</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-lg mb-2">Animals</h4>
                        <div class="flex flex-wrap">${animalListHtml}</div>
                    </div>
                     <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-lg">Temperature Range</h4>
                        <p class="text-xl">${minTemp}°C to ${maxTemp}°C</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-lg">Total Land Space</h4>
                        <p class="text-xl">${totalSpace} m²</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-lg">Total Water Space</h4>
                        <p class="text-xl">${totalWater} m²</p>
                    </div>
                    <div class="bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-semibold text-lg">Required Climbing Space</h4>
                        <p class="text-xl">${maxClimbing} m²</p>
                    </div>
                    ${compatibilityHtml}
                </div>
            `;
        }

        function clearFilters() {
            searchInput.value = '';
            walkthroughFilter.checked = false;
            document.querySelectorAll('.filter-section input[type="checkbox"]').forEach(cb => cb.checked = false);
            filterAndPopulateAnimals();
        }

        function clearHabitat() {
            currentHabitatAnimals = [];
            updateHabitatDisplay();
        }

        // --- Database Logic ---
        function renderDatabase(data) {
            databaseTableBody.innerHTML = '';
            data.forEach(animal => {
                const row = `
                    <tr class="hover:bg-gray-50">
                        <td class="py-2 px-3 border-b">${animal.name}</td>
                        <td class="py-2 px-3 border-b">${animal.type}</td>
                        <td class="py-2 px-3 border-b">${animal.dlc}</td>
                        <td class="py-2 px-3 border-b text-center">${animal.isWalkthrough ? '✔️' : ''}</td>
                        <td class="py-2 px-3 border-b">${animal.continent || 'N/A'}</td>
                        <td class="py-2 px-3 border-b">${animal.biome || 'N/A'}</td>
                        <td class="py-2 px-3 border-b">${animal.space}</td>
                    </tr>
                `;
                databaseTableBody.innerHTML += row;
            });
        }

        function sortData(data, column, order) {
            return [...data].sort((a, b) => {
                let aVal = a[column];
                let bVal = b[column];

                if (column === 'space') {
                    aVal = a.type === 'Habitat' ? a.space : -1;
                    bVal = b.type === 'Habitat' ? b.space : -1;
                }

                if (typeof aVal === 'string') {
                    aVal = aVal.toLowerCase();
                    bVal = bVal.toLowerCase();
                }

                if (aVal < bVal) return order === 'asc' ? -1 : 1;
                if (aVal > bVal) return order === 'asc' ? 1 : -1;
                return 0;
            });
        }
        
        // --- Compatibility Logic ---
        function populateCompatibilityDropdown() {
            const animalNames = animalData.map(a => a.name).sort();
             animalNames.forEach(name => {
                const option = document.createElement('option');
                option.value = name;
                option.textContent = name;
                compatibilitySelect.appendChild(option);
            });
        }

        function displayCompatibilityResults() {
            const selectedAnimal = compatibilitySelect.value;
            if (!selectedAnimal) {
                compatibilityResults.innerHTML = `
                 <div class="text-center text-gray-400 mt-8">
                     <svg class="w-16 h-16 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                    <h3 class="text-xl font-semibold">Select an animal to see its friends!</h3>
                </div>`;
                return;
            }

            const compatibleAnimals = getFullCompatibility(selectedAnimal);
            
            if (compatibleAnimals.length > 0) {
                 const animalCards = compatibleAnimals.sort().map(name => {
                      const animal = animalData.find(a => a.name === name);
                      if (!animal) return '';
                      return `
                          <div class="bg-gray-50 p-4 rounded-lg border border-gray-200">
                              <h4 class="font-bold text-lg">${animal.name}</h4>
                              <p class="text-sm text-gray-600">${animal.continent} - ${animal.biome}</p>
                          </div>
                      `;
                 }).join('');
                 compatibilityResults.innerHTML = `
                     <h3 class="text-xl font-semibold mb-4">Compatible with <span class="text-teal-600">${selectedAnimal}</span>:</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                         ${animalCards}
                     </div>
                 `;
            } else {
                compatibilityResults.innerHTML = `
                     <h3 class="text-xl font-semibold mb-4">No Enrichment Bonus</h3>
                     <p class="text-gray-700">${selectedAnimal} does not receive an interspecies enrichment bonus with any other habitat animal.</p>
                 `;
            }
        }
        
        // --- Exhibit Planner Logic ---
        function populateExhibitDropdown() {
             exhibitAnimalData.sort((a,b) => a.name.localeCompare(b.name)).forEach(animal => {
                const option = document.createElement('option');
                option.value = animal.name;
                option.textContent = animal.name;
                exhibitAnimalSelect.appendChild(option);
            });
        }
        
        function displayExhibitDetails() {
            const selectedAnimalName = exhibitAnimalSelect.value;
            if (!selectedAnimalName) {
                clearExhibit();
                return;
            }
            
            const animal = exhibitAnimalData.find(a => a.name === selectedAnimalName);
            
            exhibitViewerEl.classList.add('hidden');
            exhibitDetailsEl.classList.remove('hidden');

            const walkthroughIcon = `<svg class="w-6 h-6 inline-block ml-2 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path></svg>`;
            
            let detailsHtml = '';

            if (animal.name === 'Butterflies (Assorted)') {
                detailsHtml = `
                    <h2 class="text-2xl font-bold mb-4 inline-flex items-center">${animal.name} ${animal.isWalkthrough ? walkthroughIcon : ''}</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-lg">Temperature Range</h4>
                            <p class="text-xl">${animal.tempMin}°C to ${animal.tempMax}°C</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-lg">Group Size</h4>
                            <p class="text-xl">${animal.groupSize[0]} - ${animal.groupSize[1]}</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg col-span-1 md:col-span-2">
                            <h4 class="font-semibold text-lg">Required Plants for 100% Welfare</h4>
                            <div class="flex flex-wrap mt-2">
                                ${animal.requiredPlants.map(plant => `<span class="inline-block bg-green-100 text-green-800 rounded-full px-3 py-1 text-sm font-semibold mr-2 mb-2">${plant}</span>`).join('')}
                            </div>
                        </div>
                    </div>
                `;
            } else {
                detailsHtml = `
                    <h2 class="text-2xl font-bold mb-4 inline-flex items-center">${animal.name} ${animal.isWalkthrough ? walkthroughIcon : ''}</h2>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-lg">Temperature Range</h4>
                            <p class="text-xl">${animal.tempMin}°C to ${animal.tempMax}°C</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <h4 class="font-semibold text-lg">Humidity Range</h4>
                            <p class="text-xl">${animal.humidityMin}% to ${animal.humidityMax}%</p>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg col-span-1 md:col-span-2">
                            <h4 class="font-semibold text-lg">Group Size</h4>
                            <p class="text-xl">${animal.groupSize[0]} - ${animal.groupSize[1]}</p>
                        </div>
                    </div>
                `;
            }
            exhibitDetailsEl.innerHTML = detailsHtml;
        }
        
        function clearExhibit() {
            exhibitAnimalSelect.value = '';
            exhibitDetailsEl.classList.add('hidden');
            exhibitViewerEl.classList.remove('hidden');
        }

        // --- Tab Switching Logic ---
        const tabs = {
            'habitat-planner': {
                button: document.getElementById('habitat-planner-tab'),
                content: document.getElementById('habitat-planner-content')
            },
            'exhibit-planner': {
                button: document.getElementById('exhibit-planner-tab'),
                content: document.getElementById('exhibit-planner-content')
            },
            'compatibility': {
                button: document.getElementById('compatibility-tab'),
                content: document.getElementById('compatibility-content')
            },
            'database': {
                button: document.getElementById('database-tab'),
                content: document.getElementById('database-content')
            },
            'shopping-list': {
                button: document.getElementById('shopping-list-tab'),
                content: document.getElementById('shopping-list-content')
            },
            'layout-helper': {
                button: document.getElementById('layout-helper-tab'),
                content: document.getElementById('layout-helper-content')
            }
        };

        function switchTab(e) {
            e.preventDefault();
            const targetId = e.currentTarget.id.replace('-tab', '');

            for (const key in tabs) {
                const isTarget = key === targetId;
                tabs[key].button.classList.toggle('active', isTarget);
                tabs[key].content.classList.toggle('hidden', !isTarget);
                if (key === 'habitat-planner' || key === 'exhibit-planner') {
                    tabs[key].content.classList.toggle('flex', isTarget);
                }
            }
        }

        // Initial setup
        document.addEventListener('DOMContentLoaded', () => {
            // Habitat Planner Setup
            populateFilters();
            filterAndPopulateAnimals();
            addAnimalBtn.addEventListener('click', addAnimalToHabitat);
            clearFiltersBtn.addEventListener('click', clearFilters);
            clearHabitatBtn.addEventListener('click', clearHabitat);
            
            // Filter listeners
            setupFilterDropdown(dlcFilterBtn, dlcFilterOptions);
            setupFilterDropdown(continentFilterBtn, continentFilterOptions);
            setupFilterDropdown(biomeFilterBtn, biomeFilterOptions);
            
            document.querySelector('.filter-section').addEventListener('change', filterAndPopulateAnimals);
            searchInput.addEventListener('input', filterAndPopulateAnimals);
            
            // Close dropdowns when clicking outside
            document.addEventListener('click', (e) => {
                if (!dlcFilterBtn.contains(e.target) && !dlcFilterOptions.contains(e.target)) {
                    dlcFilterOptions.classList.add('hidden');
                }
                if (!continentFilterBtn.contains(e.target) && !continentFilterOptions.contains(e.target)) {
                    continentFilterOptions.classList.add('hidden');
                }
                 if (!biomeFilterBtn.contains(e.target) && !biomeFilterOptions.contains(e.target)) {
                    biomeFilterOptions.classList.add('hidden');
                }
            });


            // Database Setup
            const allAnimalsForDatabase = [
                ...animalData.map(a => ({...a, type: 'Habitat'})),
                ...exhibitAnimalData.map(e => ({
                    name: e.name,
                    dlc: e.dlc,
                    type: 'Exhibit',
                    continent: null,
                    biome: null,
                    space: 'N/A',
                    isWalkthrough: e.isWalkthrough
                }))
            ];
            
            function filterAndSortDatabase() {
                const searchTerm = databaseSearch.value.toLowerCase();
                const filteredData = allAnimalsForDatabase.filter(animal => animal.name.toLowerCase().includes(searchTerm));
                const sortedData = sortData(filteredData, currentSort.column, currentSort.order);
                renderDatabase(sortedData);
            }
            
            filterAndSortDatabase();
            databaseSearch.addEventListener('input', filterAndSortDatabase);
            databaseHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const column = header.dataset.sort;
                    const order = (currentSort.column === column && currentSort.order === 'asc') ? 'desc' : 'asc';
                    currentSort = { column, order };
                    filterAndSortDatabase();
                });
            });
            
            // Compatibility Setup
            populateCompatibilityDropdown();
            compatibilitySelect.addEventListener('change', displayCompatibilityResults);
            
            // Exhibit Planner Setup
            populateExhibitDropdown();
            exhibitAnimalSelect.addEventListener('change', displayExhibitDetails);
            clearExhibitBtn.addEventListener('click', clearExhibit);

            // Tab Listeners
            for (const key in tabs) {
                tabs[key].button.addEventListener('click', switchTab);
            }
        });

    </script>
</body>
</html>